---
title: "ã¤ã„ã«Safariã‚‚ã€‚ media queryã®ç¯„å›²æŒ‡å®šã‚’ã‚ˆã‚Šç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹è¨˜æ³•ãŒå…¨ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œã¸"
emoji: "ğŸ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [ "css" ]
published: true
publication_name: moneyforward
---

ç­†è€…ãŒ CSS ã‚’å­¦ã³å§‹ã‚ãŸã¨ãã€media query ã§ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰ãˆã‚‹æ–¹æ³•ãŒå¤§å¤‰ãƒ‹ã‚¬ãƒ†ã§ã—ãŸğŸ˜­ `min`ï¼Ÿ `max`ï¼Ÿ æœªæº€ã®ã¨ãã¯ã©ã†ã™ã‚‹ã®ï¼Ÿ `and` ã§ç¹‹ã’ãªãã‚ƒã„ã‘ãªã„ã®ï¼Ÿ é•·ããªã„ï¼Ÿ ã¨ç–‘å•ã«æ€ã„ãªãŒã‚‰ã€ä»Šæ—¥ã¾ã§é•·ã„å¹´æœˆã‚’éã”ã—ã¦ãã¾ã—ãŸã€‚

æœ¬æ—¥ï¼ˆ2023/03/28ï¼‰ã€Safari 16.4 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã€ media query ã®rangeï¼ˆç¯„å›²ï¼‰è¨˜æ³•ã«å¯¾å¿œã—ã¾ã—ãŸã€‚

â–¼ å¾“æ¥ã® media query ã®ç¯„å›²æŒ‡å®š

```css
@media (min-width: 600px) and (max-width: 799px) {
}
```

â–¼ ä»Šå¾Œ

```css
@media (600px <= width < 800px) {
}
```

æœ¬è¨˜äº‹ã§ã¯ã€å¾“æ¥ã®è¨˜æ³•ã®èª²é¡Œã€range è¨˜æ³•ã®ä½¿ã„æ–¹ã€`@container` ã‚¯ã‚¨ãƒªã¨ã®çµ„ã¿åˆã‚ã›æ–¹ã€ä»Šã™ãå…¨ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ã«ä½¿ã†æ–¹æ³•ã¾ã§ã€ãƒ‡ãƒ¢ã‚’äº¤ãˆãªãŒã‚‰è§£èª¬ã—ã¾ã™ã€‚


# å¾“æ¥ã®è¨˜æ³•ã®èª²é¡Œ

CSS Media Query ã¯ã€CSS ã‚’ç‰¹å®šã®æ¡ä»¶ä¸‹ã§é©ç”¨ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã€‚ãŸã¨ãˆã°ã€ç”»é¢ã®æ¨ªå¹…ãŒç‰¹å®šã®å¤§ãã•ã‚’è¶…ãˆãŸå ´åˆã«ã€ç•°ãªã‚‹ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã§ãã¾ã™ã€‚

å¾“æ¥ã®Media Queryã§ã€ç”»é¢ã®æ¨ªå¹…ã«å¿œã˜ãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨ã™ã‚‹å ´åˆã€`min-**`ãƒ»`max-**`ãƒ»`and`ã¨ã„ã£ãŸè¨˜è¿°ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚

```css
/* ç”»é¢ã‚µã‚¤ã‚º 600px æœªæº€ */
@media (max-width: 599px) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}

/* ç”»é¢ã‚µã‚¤ã‚º 600px ä»¥ä¸Š 1200px æœªæº€ */
@media (min-width: 601px) and (max-width: 1200px) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}

/* ç”»é¢ã‚µã‚¤ã‚º 1200px ä»¥ä¸Š */
@media (min-width: 1201px) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}
```

ã“ã®æ–¹æ³•ã«ã¯ã„ãã¤ã‹ã®èª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚

1ã¤ç›®ã¯ã€å†—é•·ã§é•·ã„ã“ã¨ã§ã™ã€‚ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã«æ…£ã‚Œã¦ã„ã‚‹æ–¹ã§ã‚ã‚Œã°ã€ `width <= 600px` ã®ã‚ˆã†ãªè¡¨è¨˜ã‚’ã—ãŸã„ã¨æ€ã†ã§ã—ã‚‡ã†ã€‚

2ã¤ç›®ã¯ã€**ã€Œæœªæº€ã€ã‚„ã€Œã‚ˆã‚Šå¤§ãã„ã€ã®è¡¨ç¾ãŒã§ããªã„ã“ã¨ã§ã™**ã€‚
`min-*`ã‚„`max-*`ã¯ã€ã€Œâ—‹â—‹pxä»¥ä¸Šãƒ»â—‹â—‹pxä»¥ä¸‹ã€ã«ã—ã‹å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚ã—ãŸãŒã£ã¦ã€ãŸã¨ãˆã°ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ `600px` ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’åˆ†ã‘ã‚ˆã†ã¨ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªæ›¸ãæ–¹ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```css
@media (max-width: 599px) {
  /* 599px ä»¥ä¸‹ã®ã‚¹ã‚¿ã‚¤ãƒ« */
}

@media (min-width: 600px) {
  /* 600px ä»¥ä¸Šã®ã‚¹ã‚¿ã‚¤ãƒ« */
}
```

ã“ã®å ´åˆã€å°æ•°ç‚¹ã®ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆãŒè€ƒæ…®ã•ã‚Œã¾ã›ã‚“ã€‚è§£æ±ºã™ã‚‹ã®ã§ã‚ã‚Œã°ã€æ¬¡ã®ã‚ˆã†ãªé¢å€’ãªæ›¸ãæ–¹ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```css
@media (max-width: 599.99px) {
  /* 600px æœªæº€ã®ã‚¹ã‚¿ã‚¤ãƒ« */
}

@media (min-width: 600px) {
  /* 600px ä»¥ä¸Šã®ã‚¹ã‚¿ã‚¤ãƒ« */
}
```

å‚è€ƒï¼š [Media Queries Level 4 - Using â€œmin-â€ and â€œmax-â€ Prefixes On Range Features](https://www.w3.org/TR/mediaqueries-4/#mq-min-max)


# æ–°ã—ã„ Media Query ã® Range è¨˜æ³•

æ–°ã—ãä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸ Media Query ã® range ï¼ˆç¯„å›²ï¼‰æŒ‡å®šã®æ–¹æ³•ã§ã¯ã€æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã§ãã¾ã™ã€‚

```css
/* ç”»é¢ã‚µã‚¤ã‚º 600px æœªæº€ */
@media (width < 600px) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}

/* ç”»é¢ã‚µã‚¤ã‚º 600px ä»¥ä¸Š 1200px æœªæº€ */
@media (600px <= width < 1200px) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}

/* ç”»é¢ã‚µã‚¤ã‚º 1200px ä»¥ä¸Š */
@media (1200px <= width) {
  /* ã‚¹ã‚¿ã‚¤ãƒ«ãƒ«ãƒ¼ãƒ« */
}
```

å¾“æ¥ã®è¨˜æ³•ã‚ˆã‚Šã‚‚ã€çŸ­ãã€ç›´æ„Ÿçš„ã§ã™ã€‚ã¾ãŸã€ã€Œä»¥ä¸Šãªã®ã‹ã€ã€Œæœªæº€ãªã®ã‹ã€ã¨ã„ã£ãŸã“ã¨ã‚‚ã‚ã‹ã‚Šã‚„ã™ããªã‚Šã¾ã™ã€‚

ã“ã¡ã‚‰ã® URL ã‹ã‚‰ãƒ‡ãƒ¢ã‚’ç¢ºèªã§ãã¾ã™ã€‚

@[codepen](https://codepen.io/tonkotsuboy/pen/vYdgKqM)

- [åˆ¥ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã§é–‹ã](https://codepen.io/tonkotsuboy/pen/vYdgKqM)

â–¼ å‹•ä½œã—ã¦ã„ã‚‹æ§˜å­

https://twitter.com/tonkotsuboy_com/status/1640516966170644480


## è¨˜å·ã®ç¢ºèª

å„è¨˜å·ã®èª¬æ˜ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚

| è¨˜å· | èª¬æ˜ |
| --- | --- |
| `<=` | ä»¥ä¸‹ |
| `<` | æœªæº€ |
| `>=` | ä»¥ä¸Š |
| `>` | ã‚ˆã‚Šå¤§ãã„ |

ç­†è€…çš„ã«ã¯ã€`<=` ã¨ `<` ã ã‘ã‚’ä½¿ã„ã€ã€Œå°ã•ã„æ•° < å¤§ãã„æ•°ã€ã¨ä¸¦ã¹ã¦è¨˜è¿°ã™ã‚‹ã®ãŒã‚ã‹ã‚Šã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚ãŸã ã®å¥½ã¿ã®å•é¡Œã§ã™ã®ã§ã€ã”è‡ªèº«ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ã‚ã›ã¦ä½¿ã„åˆ†ã‘ã¾ã—ã‚‡ã†ã€‚

# ã‚³ãƒ³ãƒ†ãƒŠã‚¯ã‚¨ãƒª `@container` ã«ã‚‚ä½¿ãˆã‚‹

å…ˆæ—¥ã€å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚³ãƒ³ãƒ†ãƒŠã‚¯ã‚¨ãƒª `@container` ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚è©³ã—ãã¯æ¬¡ã®è¨˜äº‹ã§è§£èª¬ã—ã¾ã—ãŸãŒã€ ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºã§ã¯ãªãè¦ç´ ã®ã‚µã‚¤ã‚ºã‚’åŸºæº–ã«ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã§ãã‚‹ã‚‚ã®ã§ã™ã€‚

https://zenn.dev/moneyforward/articles/css-container-query

æ¬¡ã® HTML ã«ã¦ã€ `.container` è¦ç´ ãŒ `300px` ä»¥ä¸Šã®ã¨ãã«æ–‡å­—ã‚’èµ¤è‰²ã«ã—ã¦ã¿ã¾ã™ã€‚ 

```html
<div class="container">
  <p>ãƒªã‚µã‚¤ã‚ºã—ã¦ãã ã•ã„</p>
</div>
```

å¾“æ¥ã®è¨˜æ³•ã§ã‚ã‚Œã°ã€æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ã„ã¾ã—ãŸã€‚

```css
.container {
  container-type: inline-size;
}

@container (min-width: 300px) {
  p {
    color: red;
  }
}
```

`@container` ã¨ range è¨˜æ³•ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«è¨˜è¿°ã§ãã¾ã™ã€‚

```css
.container {
  container-type: inline-size;
}

@container (300px <= width) {
  p {
    color: red;
  }
}
```

ã“ã¡ã‚‰ã® URL ã‹ã‚‰ãƒ‡ãƒ¢ã‚’ç¢ºèªã§ãã¾ã™ã€‚

@[codepen](https://codepen.io/tonkotsuboy/pen/GRXexYY)

- [åˆ¥ã‚¦ã‚¤ãƒ³ãƒ‰ã‚¦ã§é–‹ã](https://codepen.io/tonkotsuboy/pen/GRXexYY)

# Safari 16.4ã®æµ¸é€ã‚’å¾…ãŸãšã€ä»Šã™ãå…¨ãƒ–ãƒ©ã‚¦ã‚¶å‘ã‘ã«ä½¿ã†æ–¹æ³•

Safari 16.4 ã®ç™»å ´ã§å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã« range è¨˜æ³•ãŒå¯¾å¿œã—ãŸã¨ã¯è¨€ãˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒSafari 16.4 ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã™ã‚‹ã¾ã§ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã§ã—ã‚‡ã†ã€‚

ä»Šã™ã range è¨˜æ³•ã‚’ä½¿ã„ãŸã„ã®ã§ã‚ã‚Œã°ã€PostCSS ã¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã¨ã‚ˆã„ã§ã™ã€‚

range è¨˜æ³•ã‚’å¾“æ¥ã®è¨˜æ³•ã«å¤‰æ›ã—ã¦ãã‚Œã¾ã™ã€‚

â–¼ å¤‰æ›å‰

```css
@media screen and (width >= 500px) and (width <= 1200px) {
  .bar {
    display: block;
  }
}
```

â–¼ å¤‰æ›å¾Œ

```css
@media screen and (min-width: 500px) and (max-width: 1200px) {
  .bar {
    display: block;
  }
}
```


- [postcss/postcss\-media\-minmax: Writing simple and graceful Media Queries\!](https://github.com/postcss/postcss-media-minmax)


# å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶

range è¨˜æ³•ã®å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶ã¯æ¬¡ã®ã¨ãŠã‚Šã§ã™ã€‚æœ¬æ—¥ï¼ˆ2023/03/28ï¼‰ã« Safari 16.4 ãŒå¯¾å¿œã—ãŸã“ã¨ã«ã‚ˆã‚Šã€å…¨ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œã¨ãªã‚Šã¾ã—ãŸã€‚

å„ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œé–‹å§‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯æ¬¡ã®ã¨ãŠã‚Šã€‚ä½¿ç”¨ã™ã‚‹éš›ã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å¯¾è±¡ãƒ–ãƒ©ã‚¦ã‚¶ã«æ°—ã‚’ã¤ã‘ã¾ã—ã‚‡ã†ã€‚

- Safari 16.4 ã§å¯¾å¿œï¼ˆNEWï¼ï¼‰
- Chrome 104 ã§å¯¾å¿œ
- Edge 104 ã§å¯¾å¿œ
- Firefox 63 ã§å¯¾å¿œ

![](/images/range/caniuse.png)

- [Media Queries: Range Syntax \| Can I use](https://caniuse.com/css-media-range-syntax)



# é–¢é€£è³‡æ–™

- [Media Queries Level 4](https://www.w3.org/TR/mediaqueries-4/) 
- [WebKit Features in Safari 16\.4 \| WebKit](https://webkit.org/blog/13966/webkit-features-in-safari-16-4/)
